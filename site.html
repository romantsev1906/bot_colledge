<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∏—Å—Ç–µ–º–∞ –ñ–µ—Ç–æ–Ω—á–∏–∫–æ–≤</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        .container {
            max-width: 400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }
        .header h1 {
            font-size: 24px;
            margin-bottom: 5px;
        }
        .role-badge {
            background: rgba(255,255,255,0.2);
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 12px;
        }
        .menu-grid {
            display: grid;
            gap: 10px;
            padding: 20px;
        }
        .menu-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 15px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .menu-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .menu-btn.admin { background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%); }
        .menu-btn.teacher { background: linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%); }
        .menu-btn.student { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .section {
            display: none;
            padding: 20px;
            background: #f8f9ff;
        }
        .section.active { display: block; }
        .back-btn {
            background: #6c757d;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            cursor: pointer;
        }
        .list-item {
            background: white;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .grade-item {
            background: white;
            padding: 12px;
            margin-bottom: 8px;
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .grade-positive { border-left-color: #28a745; }
        .grade-negative { border-left-color: #dc3545; }
        .grade-none { border-left-color: #6c757d; }
        .input-group {
            margin-bottom: 15px;
        }
        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        .input-group input, .input-group select, .input-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 16px;
        }
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 10px;
            width: 100%;
            font-size: 16px;
            cursor: pointer;
            margin-top: 10px;
        }
        .btn-success {
            background: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);
            color: white;
        }
        .btn-danger {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
        }
        .progress-bar {
            background: #e9ecef;
            height: 10px;
            border-radius: 5px;
            margin: 10px 0;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            transition: width 0.3s;
        }
        .token-count {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 10px;
            border-radius: 10px;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            margin: 10px 0;
        }
        .file-upload {
            border: 2px dashed #667eea;
            padding: 20px;
            text-align: center;
            border-radius: 10px;
            cursor: pointer;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 20px 0;
        }
        .stat-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }
        .stat-number {
            font-size: 24px;
            font-weight: bold;
            color: #667eea;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –®–∞–ø–∫–∞ -->
        <div class="header">
            <h1>üéØ –°–∏—Å—Ç–µ–º–∞ –ñ–µ—Ç–æ–Ω—á–∏–∫–æ–≤</h1>
            <div class="role-badge" id="roleBadge">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        </div>

        <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
        <div id="mainMenu" class="menu-grid">
            <!-- –ú–µ–Ω—é –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>

        <!-- –°–ï–ö–¶–ò–ò –î–õ–Ø –ê–î–ú–ò–ù–ê -->
        <div id="adminSections">
            <!-- –°–ø–∏—Å–æ–∫ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π -->
            <div id="adminTeachersSection" class="section">
                <button class="back-btn" onclick="showMainMenu()">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>üë®‚Äçüè´ –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏</h2>
                <div id="teachersList"></div>
                <button class="btn-primary" onclick="showAdminUploadTeachers()">–ó–∞–≥—Ä—É–∑–∏—Ç—å Excel</button>
            </div>

            <!-- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ -->
            <div id="adminTokensSection" class="section">
                <button class="back-btn" onclick="showMainMenu()">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>üîë –¢–æ–∫–µ–Ω—ã –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π</h2>
                <div id="tokensList"></div>
                <button class="btn-primary" onclick="generateTokens()">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω—ã</button>
            </div>

            <!-- –°–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ -->
            <div id="adminStudentsSection" class="section">
                <button class="back-btn" onclick="showMainMenu()">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>üë®‚Äçüéì –°—Ç—É–¥–µ–Ω—Ç—ã</h2>
                <div id="studentsList"></div>
            </div>

            <!-- –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–æ–≤–æ—Å—Ç–∏ -->
            <div id="adminNewsSection" class="section">
                <button class="back-btn" onclick="showMainMenu()">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>üì¢ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å</h2>
                <select id="newsRecipient" class="input-group">
                    <option value="all">–í—Å–µ–º</option>
                    <option value="students">–°—Ç—É–¥–µ–Ω—Ç–∞–º</option>
                    <option value="teachers">–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º</option>
                </select>
                <textarea id="newsText" class="input-group" placeholder="–¢–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏..." rows="4"></textarea>
                <button class="btn-primary" onclick="sendAdminNews()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>
        </div>

        <!-- –°–ï–ö–¶–ò–ò –î–õ–Ø –ü–†–ï–ü–û–î–ê–í–ê–¢–ï–õ–Ø -->
        <div id="teacherSections">
            <!-- –î–∏—Å—Ü–∏–ø–ª–∏–Ω—ã -->
            <div id="teacherDisciplinesSection" class="section">
                <button class="back-btn" onclick="showTeacherMenu()">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>üìö –ú–æ–∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã</h2>
                <div id="disciplinesList"></div>
                <button class="btn-primary" onclick="showAddDiscipline()">+ –î–æ–±–∞–≤–∏—Ç—å</button>
            </div>

            <!-- –ì—Ä—É–ø–ø—ã -->
            <div id="teacherGroupsSection" class="section">
                <button class="back-btn" onclick="showTeacherMenu()">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>üë• –ú–æ–∏ –≥—Ä—É–ø–ø—ã</h2>
                <div id="groupsList"></div>
                <button class="btn-primary" onclick="showAddGroup()">+ –î–æ–±–∞–≤–∏—Ç—å –≥—Ä—É–ø–ø—É</button>
            </div>

            <!-- –°—Ç—É–¥–µ–Ω—Ç—ã -->
            <div id="teacherStudentsSection" class="section">
                <button class="back-btn" onclick="showTeacherMenu()">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>üë®‚Äçüéì –ú–æ–∏ —Å—Ç—É–¥–µ–Ω—Ç—ã</h2>
                <div id="studentsInGroup"></div>
                <button class="btn-primary" onclick="showUploadStudents()">–ó–∞–≥—Ä—É–∑–∏—Ç—å Excel</button>
            </div>

            <!-- –í—ã—Å—Ç–∞–≤–∏—Ç—å –æ—Ü–µ–Ω–∫–∏ -->
            <div id="teacherGradingSection" class="section">
                <button class="back-btn" onclick="showTeacherMenu()">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>‚úèÔ∏è –í—ã—Å—Ç–∞–≤–∏—Ç—å –æ—Ü–µ–Ω–∫–∏</h2>
                <select id="gradingDiscipline" class="input-group">
                    <option>–í—ã–±–µ—Ä–∏—Ç–µ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—É</option>
                </select>
                <input type="date" id="gradingDate" class="input-group">
                <button class="btn-primary" onclick="startGrading()">–ù–∞—á–∞—Ç—å –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏–µ</button>
                <div id="gradingResults"></div>
            </div>

            <!-- –ù–∞–≥—Ä–∞–¥—ã -->
            <div id="teacherRewardsSection" class="section">
                <button class="back-btn" onclick="showTeacherMenu()">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>üèÜ –ú–∞–≥–∞–∑–∏–Ω –Ω–∞–≥—Ä–∞–¥</h2>
                <div id="rewardsList"></div>
                <button class="btn-primary" onclick="showAddReward()">+ –î–æ–±–∞–≤–∏—Ç—å –Ω–∞–≥—Ä–∞–¥—É</button>
            </div>

            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div id="teacherStatsSection" class="section">
                <button class="back-btn" onclick="showTeacherMenu()">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="totalStudents">0</div>
                        <div>–°—Ç—É–¥–µ–Ω—Ç–æ–≤</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalGrades">0</div>
                        <div>–û—Ü–µ–Ω–æ–∫</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –°–ï–ö–¶–ò–ò –î–õ–Ø –°–¢–£–î–ï–ù–¢–ê -->
        <div id="studentSections">
            <!-- –û—Ü–µ–Ω–∫–∏ -->
            <div id="studentGradesSection" class="section">
                <button class="back-btn" onclick="showStudentMenu()">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>üìù –ú–æ–∏ –æ—Ü–µ–Ω–∫–∏</h2>
                <div id="gradesList"></div>
                <button class="btn-primary" onclick="exportGrades()">üì• –≠–∫—Å–ø–æ—Ä—Ç Excel</button>
            </div>

            <!-- –ñ–µ—Ç–æ–Ω—á–∏–∫–∏ -->
            <div id="studentTokensSection" class="section">
                <button class="back-btn" onclick="showStudentMenu()">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>üíé –ú–æ–∏ –∂–µ—Ç–æ–Ω—á–∏–∫–∏</h2>
                <div id="tokensListStudent"></div>
            </div>

            <!-- –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ -->
            <div id="studentTeachersSection" class="section">
                <button class="back-btn" onclick="showStudentMenu()">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>üë®‚Äçüè´ –ú–æ–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏</h2>
                <div id="teachersListStudent"></div>
            </div>

            <!-- –ú–∞–≥–∞–∑–∏–Ω -->
            <div id="studentShopSection" class="section">
                <button class="back-btn" onclick="showStudentMenu()">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>üè™ –ú–∞–≥–∞–∑–∏–Ω –Ω–∞–≥—Ä–∞–¥</h2>
                <div id="shopRewards"></div>
            </div>

            <!-- –ü—Ä–∞–∫—Ç–∏–∫–∏ -->
            <div id="studentPracticesSection" class="section">
                <button class="back-btn" onclick="showStudentMenu()">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>‚úÖ –ú–æ–∏ –ø—Ä–∞–∫—Ç–∏–∫–∏</h2>
                <div id="practicesList"></div>
            </div>
        </div>
    </div>

    <script>
        let currentUser = {};
        let currentRole = '';

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        Telegram.WebApp.ready();
        Telegram.WebApp.expand();
        
        // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        currentUser = Telegram.WebApp.initDataUnsafe.user;
        if (currentUser) {
            currentRole = getUserRole(currentUser.id); // –í —Ä–µ–∞–ª—å–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å –∫ –±–æ—Ç—É
            initApp();
        }

        function getUserRole(userId) {
            // –í —Ä–µ–∞–ª—å–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: –∑–∞–ø—Ä–æ—Å –∫ –±–æ—Ç—É —á–µ—Ä–µ–∑ API
            // –ü–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
            const testRoles = {
                1122288946: 'admin', // ADMIN_ID
                123456789: 'teacher',
                987654321: 'student'
            };
            return testRoles[userId] || 'student';
        }

        function initApp() {
            document.getElementById('roleBadge').textContent = 
                currentRole === 'admin' ? 'üõ°Ô∏è –ê–î–ú–ò–ù' :
                currentRole === 'teacher' ? 'üë®‚Äçüè´ –ü–†–ï–ü–û–î–ê–í–ê–¢–ï–õ–¨' : 'üë®‚Äçüéì –°–¢–£–î–ï–ù–¢';
            
            showMainMenu();
            loadDataForRole();
        }

        function showMainMenu() {
            const menu = document.getElementById('mainMenu');
            menu.innerHTML = '';

            const menus = {
                admin: [
                    { text: 'üë®‚Äçüè´ –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏', action: 'showAdminTeachers' },
                    { text: 'üîë –¢–æ–∫–µ–Ω—ã', action: 'showAdminTokens' },
                    { text: 'üë®‚Äçüéì –°—Ç—É–¥–µ–Ω—Ç—ã', action: 'showAdminStudents' },
                    { text: 'üì¢ –ù–æ–≤–æ—Å—Ç—å', action: 'showAdminNews' }
                ],
                teacher: [
                    { text: 'üìö –î–∏—Å—Ü–∏–ø–ª–∏–Ω—ã', action: 'showTeacherDisciplines' },
                    { text: 'üë• –ì—Ä—É–ø–ø—ã', action: 'showTeacherGroups' },
                    { text: 'üë®‚Äçüéì –°—Ç—É–¥–µ–Ω—Ç—ã', action: 'showTeacherStudents' },
                    { text: '‚úèÔ∏è –û—Ü–µ–Ω–∫–∏', action: 'showTeacherGrading' },
                    { text: 'üèÜ –ù–∞–≥—Ä–∞–¥—ã', action: 'showTeacherRewards' },
                    { text: 'üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞', action: 'showTeacherStats' }
                ],
                student: [
                    { text: 'üìù –û—Ü–µ–Ω–∫–∏', action: 'showStudentGrades' },
                    { text: 'üíé –ñ–µ—Ç–æ–Ω—á–∏–∫–∏', action: 'showStudentTokens' },
                    { text: 'üë®‚Äçüè´ –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏', action: 'showStudentTeachers' },
                    { text: 'üè™ –ú–∞–≥–∞–∑–∏–Ω', action: 'showStudentShop' },
                    { text: '‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∏', action: 'showStudentPractices' }
                ]
            };

            menus[currentRole].forEach(item => {
                const btn = document.createElement('button');
                btn.className = `menu-btn ${currentRole}`;
                btn.innerHTML = item.text;
                btn.onclick = () => window[item.action]();
                menu.appendChild(btn);
            });

            hideAllSections();
            document.getElementById('mainMenu').style.display = 'grid';
        }

        // –ê–î–ú–ò–ù –§–£–ù–ö–¶–ò–ò
        function showAdminTeachers() {
            hideAllSections();
            document.getElementById('adminTeachersSection').classList.add('active');
            loadTeachersList();
        }

        function showAdminTokens() {
            hideAllSections();
            document.getElementById('adminTokensSection').classList.add('active');
            loadTokensList();
        }

        function showAdminStudents() {
            hideAllSections();
            document.getElementById('adminStudentsSection').classList.add('active');
            loadStudentsList();
        }

        function showAdminNews() {
            hideAllSections();
            document.getElementById('adminNewsSection').classList.add('active');
        }

        function loadTeachersList() {
            const list = document.getElementById('teachersList');
            list.innerHTML = `
                <div class="list-item">
                    <span>–ò–≤–∞–Ω–æ–≤ –ò.–ò.</span>
                    <span class="token-count">–¢–æ–∫–µ–Ω: abc12345</span>
                </div>
                <div class="list-item">
                    <span>–ü–µ—Ç—Ä–æ–≤ –ü.–ü.</span>
                    <span class="token-count">–¢–æ–∫–µ–Ω: def67890</span>
                </div>
            `;
        }

        function loadTokensList() {
            document.getElementById('tokensList').innerHTML = `
                <div class="list-item">
                    <span>–ò–≤–∞–Ω–æ–≤ –ò.–ò.</span>
                    <span>abc12345</span>
                </div>
            `;
        }

        function loadStudentsList() {
            const list = document.getElementById('studentsList');
            list.innerHTML = `
                <div class="list-item">
                    <span>–°–∏–¥–æ—Ä–æ–≤ –°.–°. (–ò–ö–ë-21)</span>
                </div>
                <div class="list-item">
                    <span>–ö–æ–∑–ª–æ–≤ –ö.–ö. (–ò–ö–ë-21)</span>
                </div>
            `;
        }

        function sendAdminNews() {
            const recipient = document.getElementById('newsRecipient').value;
            const text = document.getElementById('newsText').value;
            Telegram.WebApp.showAlert(`–ù–æ–≤–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ ${recipient}!`);
            document.getElementById('newsText').value = '';
        }

        // –ü–†–ï–ü–û–î–ê–í–ê–¢–ï–õ–¨ –§–£–ù–ö–¶–ò–ò
        function showTeacherMenu() { showMainMenu(); }
        function showTeacherDisciplines() {
            hideAllSections();
            document.getElementById('teacherDisciplinesSection').classList.add('active');
            loadDisciplines();
        }

        function showTeacherGroups() {
            hideAllSections();
            document.getElementById('teacherGroupsSection').classList.add('active');
            loadGroups();
        }

        function showTeacherStudents() {
            hideAllSections();
            document.getElementById('teacherStudentsSection').classList.add('active');
            loadStudentsInGroup();
        }

        function showTeacherGrading() {
            hideAllSections();
            document.getElementById('teacherGradingSection').classList.add('active');
            loadGradingDisciplines();
        }

        function showTeacherRewards() {
            hideAllSections();
            document.getElementById('teacherRewardsSection').classList.add('active');
            loadRewards();
        }

        function showTeacherStats() {
            hideAllSections();
            document.getElementById('teacherStatsSection').classList.add('active');
            loadStats();
        }

        function loadDisciplines() {
            document.getElementById('disciplinesList').innerHTML = `
                <div class="list-item">
                    <span>–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ (–ò–ö–ë-21)</span>
                    <button class="btn-danger">–£–¥–∞–ª–∏—Ç—å</button>
                </div>
            `;
        }

        function loadGroups() {
            document.getElementById('groupsList').innerHTML = `
                <div class="list-item">
                    <span>–ò–ö–ë-21</span>
                    <button class="btn-danger">–£–¥–∞–ª–∏—Ç—å</button>
                </div>
            `;
        }

        function loadStudentsInGroup() {
            document.getElementById('studentsInGroup').innerHTML = `
                <div class="list-item">
                    <span>–°–∏–¥–æ—Ä–æ–≤ –°.–°.</span>
                    <span class="token-count">15 üíé</span>
                </div>
            `;
        }

        function loadGradingDisciplines() {
            document.getElementById('gradingDiscipline').innerHTML = `
                <option>–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</option>
                <option>–§–∏–∑–∏–∫–∞</option>
            `;
        }

        function startGrading() {
            document.getElementById('gradingResults').innerHTML = `
                <div class="grade-item grade-positive">
                    <span>–°–∏–¥–æ—Ä–æ–≤ –°.–°.: 5</span>
                    <span>+1 üíé</span>
                </div>
            `;
        }

        function loadRewards() {
            document.getElementById('rewardsList').innerHTML = `
                <div class="list-item">
                    <span>–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ—Ç–ª–∏—á–Ω–∏–∫–∞ (10 üíé)</span>
                    <button class="btn-primary">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                </div>
            `;
        }

        function loadStats() {
            document.getElementById('totalStudents').textContent = '24';
            document.getElementById('totalGrades').textContent = '156';
        }

        // –°–¢–£–î–ï–ù–¢ –§–£–ù–ö–¶–ò–ò
        function showStudentMenu() { showMainMenu(); }
        function showStudentGrades() {
            hideAllSections();
            document.getElementById('studentGradesSection').classList.add('active');
            loadStudentGrades();
        }

        function showStudentTokens() {
            hideAllSections();
            document.getElementById('studentTokensSection').classList.add('active');
            loadStudentTokens();
        }

        function showStudentTeachers() {
            hideAllSections();
            document.getElementById('studentTeachersSection').classList.add('active');
            loadStudentTeachers();
        }

        function showStudentShop() {
            hideAllSections();
            document.getElementById('studentShopSection').classList.add('active');
            loadShopRewards();
        }

        function showStudentPractices() {
            hideAllSections();
            document.getElementById('studentPracticesSection').classList.add('active');
            loadStudentPractices();
        }

        function loadStudentGrades() {
            document.getElementById('gradesList').innerHTML = `
                <div class="grade-item grade-positive">
                    <span>16.10.25: –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ - 5</span>
                    <span>–î–ó: –†–µ—à–∏—Ç—å –∑–∞–¥–∞—á–∏ 1-10</span>
                </div>
                <div class="grade-item grade-negative">
                    <span>15.10.25: –§–∏–∑–∏–∫–∞ - –Ω</span>
                </div>
            `;
        }

        function loadStudentTokens() {
            document.getElementById('tokensListStudent').innerHTML = `
                <div class="token-count">–ò–≤–∞–Ω–æ–≤ –ò.–ò.: 25 üíé</div>
                <div class="token-count">–ü–µ—Ç—Ä–æ–≤ –ü.–ü.: 12 üíé</div>
            `;
        }

        function loadStudentTeachers() {
            document.getElementById('teachersListStudent').innerHTML = `
                <div class="list-item">
                    <span>–ò–≤–∞–Ω–æ–≤ –ò.–ò.</span>
                    <span class="token-count">25 üíé</span>
                </div>
            `;
        }

        function loadShopRewards() {
            document.getElementById('shopRewards').innerHTML = `
                <div class="list-item">
                    <span>–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ—Ç–ª–∏—á–Ω–∏–∫–∞ (10 üíé)</span>
                    <button class="btn-success">–ö—É–ø–∏—Ç—å</button>
                </div>
            `;
        }

        function loadStudentPractices() {
            document.getElementById('practicesList').innerHTML = `
                <div class="list-item">
                    <span>–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</span>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 80%"></div>
                    </div>
                    <span>4/5 –ø—Ä–∞–∫—Ç–∏–∫</span>
                </div>
            `;
        }

        function exportGrades() {
            Telegram.WebApp.showAlert('Excel —Ñ–∞–π–ª —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è...');
        }

        function hideAllSections() {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.getElementById('mainMenu').style.display = 'none';
        }

        function loadDataForRole() {
            // –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–æ–ª–∏
            if (currentRole === 'teacher') {
                loadDisciplines();
                loadStats();
            } else if (currentRole === 'student') {
                loadStudentGrades();
                loadStudentTokens();
            }
        }

        // –ó–∞–≥–ª—É—à–∫–∏ –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
        function showAdminUploadTeachers() {
            Telegram.WebApp.showAlert('–§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ Excel –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ');
        }

        function showUploadStudents() {
            Telegram.WebApp.showAlert('–§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ Excel –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ');
        }

        function showAddDiscipline() {
            Telegram.WebApp.showAlert('–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ');
        }

        function showAddGroup() {
            Telegram.WebApp.showAlert('–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø—ã –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ');
        }

        function showAddReward() {
            Telegram.WebApp.showAlert('–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥—ã –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ');
        }

        function generateTokens() {
            Telegram.WebApp.showAlert('–¢–æ–∫–µ–Ω—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã!');
        }
    </script>
</body>
</html>