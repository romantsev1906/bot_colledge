# Настройка API_CONFIG

## Проблема

Вы видите ошибку:
```
Failed to resolve 'your-bot-server.com'
```

Это означает, что `API_CONFIG['base_url']` не настроен на реальный адрес сервера бота.

## Решение

### Вариант 1: Локальное тестирование (API на том же компьютере)

Если вы запускаете `bot_api_server.py` на том же компьютере, используйте:

```python
API_CONFIG = {
    'base_url': 'http://localhost:5001',
}
```

### Вариант 2: Удаленный сервер (Linux сервер с ботом)

Если бот работает на удаленном сервере, укажите IP адрес:

```python
API_CONFIG = {
    'base_url': 'http://123.45.67.89:5001',  # Замените на реальный IP
}
```

Или если есть домен:

```python
API_CONFIG = {
    'base_url': 'http://bot.example.com:5001',
}
```

## Как узнать IP адрес сервера бота

На сервере с ботом выполните:

```bash
# Linux
hostname -I
# или
ip addr show
# или
curl ifconfig.me
```

## Проверка доступности API

Перед настройкой проверьте, что API сервер доступен:

```bash
# С вашего компьютера
curl http://IP-АДРЕС-СЕРВЕРА:5001/api/health
```

Должен вернуть:
```json
{"status": "ok", "db_exists": true}
```

## Шаги для исправления

1. Откройте `web_app.py`
2. Найдите строку с `API_CONFIG`
3. Замените `'http://your-bot-server.com:5001'` на реальный адрес
4. Сохраните файл
5. Перезапустите веб-приложение

## Текущая настройка

Сейчас в файле установлено:
```python
'base_url': 'http://localhost:5001',
```

Это означает, что API должен быть на том же компьютере. Если API на другом сервере, замените на IP адрес этого сервера.


